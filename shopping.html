<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<title>购物车</title>
	<link rel="stylesheet" href="css/iconfont.css">
	<link rel="stylesheet" href="css/shopping.css">
</head>
<body>
	<!-- header -->
	<div class="header">
		<div class="head">
			<a href=""><img src="img/logo.png" alt=""></a>
			<a href="ticwatch.html">问问手表</a>
			<a href="tickasa.html">问问音箱</a>
			<a href="free.html">问问耳机</a>
			<a href="watch.html">配件周边</a>
		</div>
		<div class="headright">
			<a href="ceshi.html">注册</a>
			<a href="denglu.html">登录</a>
			<a href="shopping.html">
				<span class="iconfont icon-gwc"></span>
			</a>
			<span class="span">0</span>
		</div>
	</div>
	<!-- shopBar -->
	<section class="cartMain">
        <div class="cartMain_hd">
            <ul class="order_lists cartTop">
                <li class="list_chk">
                    <!--所有商品全选-->
                    <input type="checkbox" id="all" class="whole_check">
                    <label for="all"></label>
                    全选
                </li>
                <li class="list_con">商品信息</li>
                <li class="list_info">商品参数</li>
                <li class="list_price">单价</li>
                <li class="list_amount">数量</li>
                <li class="list_sum">金额</li>
                <li class="list_op">操作</li>
            </ul>
        </div>

        <div class="cartBox">
            <div class="shop_info">
            </div>
            <div class="order_content">
                <ul class="order_lists">
                    <li class="list_chk">
                        <input type="checkbox" id="checkbox_2" class="son_check">
                        <label for="checkbox_2"></label>
                    </li>
                    <li class="list_con">
                        <div class="list_img"><a href="javascript:;"><img src="img/aroud11.jpg" alt=""></a></div>
                        <div class="list_text" id="name">TicWatch 1</div>
                    </li>
                    <li class="list_info">
                        <p>梦幻蓝</p>
                    </li>
                    <li class="list_price">
                        <p class="price" id="goodsid">￥980</p>
                    </li>
                    <li class="list_amount">
                        <div class="amount_box">
                            <a href="javascript:;" class="reduce reSty">-</a>
                            <input id="sum" type="text" value="1" class="sum">
                            <a href="javascript:;" class="plus" id="addId">+</a>
                        </div>
                    </li>
                    <li class="list_sum">
                        <p class="sum_price">￥980</p>
                    </li>
                    <li class="list_op">
                        <p class="del"><a href="javascript:;" id="delBtn" class="delBtn">移除商品</a></p>
                    </li>
                </ul>
                <ul class="order_lists">
                    <li class="list_chk">
                        <input type="checkbox" id="checkbox_3" class="son_check">
                        <label for="checkbox_3"></label>
                    </li>
                    <li class="list_con">
                        <div class="list_img"><a href="javascript:;"><img src="img/aroud10.jpg" alt=""></a></div>
                        <div class="list_text" id="name">TicWatch 2</div>
                    </li>
                    <li class="list_info">
                        <p>童话粉</p>
                    </li>
                    <li class="list_price">
                        <p class="price" id="goodsid">￥780</p>
                    </li>
                    <li class="list_amount">
                        <div class="amount_box">
                            <a href="javascript:;" class="reduce reSty">-</a>
                            <input id="sum" type="text" value="1" class="sum">
                            <a href="javascript:;" class="plus">+</a>
                        </div>
                    </li>
                    <li class="list_sum">
                        <p class="sum_price">￥780</p>
                    </li>
                    <li class="list_op">
                        <p class="del"><a href="javascript:;" id="delBtn" class="delBtn">移除商品</a></p>
                    </li>
                </ul>
                <ul class="order_lists">
                    <li class="list_chk">
                        <input type="checkbox" id="checkbox_6" class="son_check">
                        <label for="checkbox_6"></label>
                    </li>
                    <li class="list_con">
                        <div class="list_img"><a href="javascript:;"><img src="img/cha4.png" alt=""></a></div>
                        <div class="list_text" id="name">TicWatch 3</div>
                    </li>
                    <li class="list_info">
                        <p>童话粉</p>
                    </li>
                    <li class="list_price">
                        <p class="price" id="goodsid">￥180</p>
                    </li>
                    <li class="list_amount">
                        <div class="amount_box">
                            <a href="javascript:;" class="reduce reSty">-</a>
                            <input id="sum" type="text" value="1" class="sum">
                            <a href="javascript:;" class="plus">+</a>
                        </div>
                    </li>
                    <li class="list_sum">
                        <p class="sum_price">￥180</p>
                    </li>
                    <li class="list_op">
                        <p class="del"><a href="javascript:;" id="delBtn" class="delBtn">移除商品</a></p>
                    </li>
                </ul>
                <ul class="order_lists">
                    <li class="list_chk">
                        <input type="checkbox" id="checkbox_6" class="son_check">
                        <label for="checkbox_6"></label>
                    </li>
                    <li class="list_con">
                        <div class="list_img"><a href="javascript:;"><img src="img/aroud1.png" alt=""></a></div>
                        <div class="list_text" id="name">TicWatch 4</div>
                    </li>
                    <li class="list_info">
                        <p>童话粉</p>
                    </li>
                    <li class="list_price">
                        <p class="price" id="goodsid">￥340</p>
                    </li>
                    <li class="list_amount">
                        <div class="amount_box">
                            <a href="javascript:;" class="reduce reSty">-</a>
                            <input id="sum" type="text" value="1" class="sum">
                            <a href="javascript:;" class="plus">+</a>
                        </div>
                    </li>
                    <li class="list_sum">
                        <p class="sum_price">￥180</p>
                    </li>
                    <li class="list_op">
                        <p class="del"><a href="javascript:;" id="delBtn" class="delBtn">移除商品</a></p>
                    </li>
                </ul>
                <ul class="order_lists">
                    <li class="list_chk">
                        <input type="checkbox" id="checkbox_6" class="son_check">
                        <label for="checkbox_6"></label>
                    </li>
                    <li class="list_con">
                        <div class="list_img"><a href="javascript:;"><img src="img/tic1.png" alt=""></a></div>
                        <div class="list_text" id="name">TicWatch Kids</div>
                    </li>
                    <li class="list_info">
                        <p>童话粉</p>
                    </li>
                    <li class="list_price">
                        <p class="price" id="goodsid">￥799</p>
                    </li>
                    <li class="list_amount">
                        <div class="amount_box">
                            <a href="javascript:;" class="reduce reSty">-</a>
                            <input id="sum" type="text" value="1" class="sum">
                            <a href="javascript:;" class="plus">+</a>
                        </div>
                    </li>
                    <li class="list_sum">
                        <p class="sum_price">￥180</p>
                    </li>
                    <li class="list_op">
                        <p class="del"><a href="javascript:;" id="delBtn" class="delBtn">移除商品</a></p>
                    </li>
                </ul>
            </div>
        </div>
        <!--底部-->
        <div class="bar-wrapper">
            <div class="bar-right">
                <div class="piece">已选商品<strong class="piece_num">0</strong>件</div>
                <div class="totalMoney">共计: <strong class="total_text">0.00</strong></div>
                <div class="calBtn"><a href="javascript:;">结算</a></div>
            </div>
        </div>
    </section>
    <section class="model_bg"></section>
    <section class="my_model">
        <p class="title">删除宝贝<span class="closeModel">X</span></p>
        <p>您确认要删除该宝贝吗？</p>
        <div class="opBtn"><a href="javascript:;" class="dialog-sure">确定</a><a href="javascript:;" class="dialog-close">关闭</a></div>
    </section>

	<!-- footer -->
	<div class="footertop">
		<div class="top">
			<div class="sectiona">
				<a href="change.html">
					<div class="smo smo1"></div>
					<p>7天无理由退货</p>
				</a>
			</div>
			<div class="sectiona">
				<a href="return.html">
					<div class="smo smo2"></div>
					<p>15天免费换货</p>
				</a>
			</div>
			<div class="sectiona">
				<a href="ship.html">
					<div class="smo smo3"></div>
					<p>满99顺丰包邮</p>
				</a>
			</div>
			<div class="sectiona">
				<a href="">
					<div class="smo smo4"></div>
					<p class="pl"> 400-8838-390</p>
					<span>(周一至周日9:00-19:00)</span>
				</a>
			</div>
		</div>
	</div>

	<div class="footerbot">
		<div class="mid">
			<div class="footerleft">
				<div class="box">
					<b>产品</b>
					<a href="">问问手表</a>
					<a href="">问问音箱</a>
					<a href="">问问耳机</a>
					<a href="">配件周边</a>
				</div>
				<div class="box">
					<b>帮助</b>
					<a href="">配对应用</a>
					<a href="">引导教程</a>
					<a href="">视频指导</a>
					<a href="">售后政策</a>
				</div>
				<div class="box">
					<b>媒体</b>
					<a href="">公司新闻</a>
					<a href="">产品消息</a>
					<a href="">媒体报道</a>
					<a href="">视频</a>
				</div>
				<div class="box">
					<b>用户</b>
					<a href="">问问论坛</a>
					<a href="">推荐奖励</a>
					<a href="">售后服务</a>
					<a href="">开放品台</a>
				</div>
				<div class="box">
					<b>关于</b>
					<a href="">关于我们</a>
					<a href="">联系我们</a>
				</div>
			</div>
			<div class="footerright" id="footerright">
				中文（简体）
				<div class="san"></div>

			</div>
			<div class="fudong" id="fudong">
				<a href="">中文（简体）</a>
				<a href="">中文（繁體）</a>
				<a href="">English</a>
			</div>
		</div>
		<div class="foot">
			<p>Copyright © 2019Mobvoi Inc. All Rights Reserved. 北京羽扇智信息科技有限公司 <span>|</span> 京ICP备14058077号-1 <span>|</span> 京公网安备11010802023146</p>
			<a href="">服务条款</a><span>|</span>  
			<a href="">隐私条款</a><span>|</span> 
			<a href="">儿童隐私政策</a>
		</div>
	</div>
</body>
</html>

<script src="http://libs.baidu.com/jquery/1.9.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="js/jquery-1.8.3.min.js"></script>
<script src="./js/carts.js"></script><script type="text/javascript">
var footerright = document.getElementById("footerright");
var fudong = document.getElementById("fudong");
var delBtn = document.getElementById("delBtn");

footerright.onmousedown = function(event){
	var evt = event || window.event;

	fudong.style.display = "block";
}
fudong.onmouseover = function(event){
	var evt = event || window.event;

	fudong.style.display = "block";
}
fudong.onmouseout = function(event){
	var evt = event || window.event;

	fudong.style.display = "none";
}
//----------------------------------------------------------删除
let name= document.getElementById("name");
let goodsid=document.getElementById("goodsid");
delBtn.onclick = (function(){
    let xhr = new XMLHttpRequest();
    xhr.open("POST","php/deleteGoods.php",true);
    xhr.onreadystatechange = function(){
		if(xhr.readyState==4 && xhr.status==200){
            if(xhr.responseText==0){
			    alert("删除失败");
            }else if(xhr.responseText==1){
			    alert("您已删除");
            }
        }
    }
	xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");
	let sendstr = `vipName=${name.innerHTML}&goodsId=${goodsid.innerHTML}`;
    xhr.send(sendstr);
})

//-----------------------------------------------------------修改
$(".plus").click(function(){
    let sum = $("sum").value;
	// $("sum").val(parseInt($("sum").value)+1);
//////////////////////////////////修改数量
     let xhr = new XMLHttpRequest();
			xhr.open("POST","php/updateGoodsCount.php",true);
			xhr.onreadystatechange = function(){
			if(xhr.readyState==4 && xhr.status==200){
                if(xhr.responseText==0){
				alert("修改失败");
            }else if(xhr.responseText==1){
				alert("修改成功");
            }
        }
    }
    let shuliang=sum+1;
	xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");
	let sendstr = `vipName=${name.innerHTML}&goodsId=${goodsid.innerHTML}&goodsCount=${shuliang}`;
    xhr.send(sendstr);

});

$(".reduce").click(function(){
	$("sum").val(parseInt($("sum").val())-1);
	let xhr = new XMLHttpRequest();
			xhr.open("POST","php/updateGoodsCount.php",true);
			xhr.onreadystatechange = function(){
			if(xhr.readyState==4 && xhr.status==200){
                if(xhr.responseText==0){
				alert("修改失败");
            }else if(xhr.responseText==1){
				alert("修改成功");
            }
        }
    }
    let shuliang=$("sum").val(parseInt($("sum").val())+1);
	xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");
	let sendstr = `vipName=${name.innerHTML}&goodsId=${goodsid.innerHTML}&goodsCount=${shuliang}`;
    xhr.send(sendstr);


});
</script>